generator client {
  provider = "prisma-client"
  output   = "../src/app/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  name      String?
  password  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

enum InglesLevel {
  Avanzado
  Intermedio
  No
}

model Candidate {
  id                  Int             @id @default(autoincrement())
  nombre              String
  municipioAlcaldia   String
  ciudad              String
  telefono            String
  correo              String          @unique
  ultimoSector        String
  ultimoPuesto        String
  puestoInteres       String
  rangoSalarioDeseado String
  titulado            Boolean         @default(false)
  ingles              InglesLevel     @default(No)
  cvId                String?         @unique
  cv                  FileAttachment? @relation(fields: [cvId], references: [id])
  createdAt           DateTime        @default(now())
  updatedAt           DateTime        @updatedAt
}

model FileAttachment {
  id         String     @id @default(uuid())
  fileName   String
  fileUrl    String
  fileSize   Int
  mimeType   String
  uploadedBy String?
  candidate  Candidate?
  createdAt  DateTime   @default(now())
  updatedAt  DateTime   @updatedAt
}
